<!DOCTYPE html>
<html>
<head>
    <title>Random Number Generator</title>
</head>
<body>
    <h1>Random Number Generator</h1>
    <button onclick="generateNumbers()">Generate Numbers</button>
    <button onclick="viewNumbers()">View Numbers</button>
    <button onclick="viewInstances()">View Instances</button>

    <pre id="results"></pre>
    <pre id="instances"></pre>
    <script>
       

        async function generateNumbers() {
    fetch("https://api-dot-cis3111-2023-class.ew.r.appspot.com/generate", {
        method: "POST",
        headers: {
        "Content-Type": "application/x-www-form-urlencoded",
        },
        body: new URLSearchParams({ instance_name: "Instance 1" }),
    })
        .then((response) => {
        if (!response.ok) {
            throw new Error("Network response was not ok");
        }
        return response.json();
        })
        .then((data) => {
        console.log("Success:", data);
        })
        .catch((error) => {
        console.error("Error:", error);
        });
    }


        async function viewNumbers() {
            const response = await fetch('https://api-dot-cis3111-2023-class.ew.r.appspot.com/results');
            const data = await response.json();
            document.getElementById('results').textContent = JSON.stringify(data, null, 2);
        }

        async function viewInstances() {
  try {
    const response = await fetch("https://api-dot-cis3111-2023-class.ew.r.appspot.com/instances");
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    const data = await response.json();
    const preElement = document.getElementById("instances");
    preElement.textContent = "";
    const table = document.createElement("table");
    const headerRow = document.createElement("tr");
    const instanceHeader = document.createElement("th");
    const numberHeader = document.createElement("th");
    instanceHeader.textContent = "Instance Name";
    numberHeader.textContent = "Number of Generated Numbers";
    headerRow.appendChild(instanceHeader);
    headerRow.appendChild(numberHeader);
    table.appendChild(headerRow);
    for (const instance of data.instances) {
      const row = document.createElement("tr");
      const instanceNameCell = document.createElement("td");
      const numberOfNumbersCell = document.createElement("td");
      instanceNameCell.textContent = instance.instance_name;
      numberOfNumbersCell.textContent = instance.number_count;
      row.appendChild(instanceNameCell);
      row.appendChild(numberOfNumbersCell);
      table.appendChild(row);
    }
    preElement.appendChild(table);
  } catch (error) {
    console.error("Error:", error);
  }
}

    </script>
</body>
</html>
